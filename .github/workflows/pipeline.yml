name: Deployment Pipeline

on:
    push: 
        branches: 
            - master

jobs: 
    Simple-Deployment-Pipeline : 
        runs-on : ubuntu-20.04
        steps : 
            - uses: actions/checkout@v3
            - uses: actions/setup-node@v3
              with: 
                node-version: "16"
            - name: Install dependencies
              run: npm install
            - name: Check Style
              run: npm run eslint
            - name: Test the application
              run: npm run test
            - name: Build the application
              run: npm run build
            - name: Test e2e
              uses: cypress-io/github-action@v5
              with: 
                command: npm run test:e2e
                start: npm run start-prod
                wait-on: http://localhost:5000

        
